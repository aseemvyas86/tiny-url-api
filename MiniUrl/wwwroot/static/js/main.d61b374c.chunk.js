(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){e.exports=a(403)},395:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);a(176);var n=a(0),r=a.n(n),l=a(47),c=a.n(l),o=a(123),i=a(23),s=a(77),u=a(124),m=a(39),h=a(40),d=a(68),f=a(66),p=a(67),E=a(406),b=a(407),v=a(408),y=a(60),O=a(409),g=function(){return r.a.createElement(O.a,{bg:"light",expand:"lg"},r.a.createElement(O.a.Brand,{href:"/app"},"Shorten Url"),r.a.createElement(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(O.a.Collapse,{id:"basic-navbar-nav"}))},U=(a(395),a(78)),j=a(410),k=a(404),w=a(411),C=a(412),S={version:"1.0.0"};switch("PROD".toUpperCase()){case"LOCAL":case"DEV":case"QA":Object.assign(S,{apiBaseUrl:"http://localhost:5000/api"});break;case"PROD":Object.assign(S,{apiBaseUrl:"https://minifyurlcloud.azurewebsites.net/api"});break;default:console.error("Unknown config specified: ".concat("PROD"))}var B=S,D="".concat(B.apiBaseUrl,"/Create"),T=function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,null,[{key:"createShortUrl",value:function(e){return new Promise(function(t,a){fetch("".concat(D),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={url:"",allUrls:[],shortenUrl:""},a.createUrl=a.createUrl.bind(Object(U.a)(Object(U.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"createUrl",value:function(){var e=this,t=this.state.url;this.isUrl(t)&&T.createShortUrl(t).then(function(t){var a=t.originalUrl,n=t.shortenUrl,r=t.shorten;e.setState({allUrls:[{url:a,shortenUrl:n,shorten:r}]})})}},{key:"isUrl",value:function(e){return!!/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)}},{key:"copyToClipBoard",value:function(e){var t=document.createElement("input");t.style="position: absolute; left: -1000px; top: -1000px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"render",value:function(){var e=this,t=this.state.allUrls;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(j.a,{border:"success"},r.a.createElement(j.a.Body,null,r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(w.a,{placeholder:"Paste a link to shorten it!","aria-label":"Paste a link to shorten it!","aria-describedby":"basic-addon2",onChange:function(t){e.setState({url:t.target.value})}}),r.a.createElement(k.a.Append,null,r.a.createElement(C.a,{variant:"outline-secondary",onClick:this.createUrl},"Shorten"))))),r.a.createElement("br",null),t&&t.length>0&&r.a.createElement("div",null,r.a.createElement("hr",null),t.map(function(t){return r.a.createElement(j.a,{key:t.url},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,r.a.createElement(j.a.Link,{target:"_blank",href:t.url},t.url)),r.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},r.a.createElement("span",null,t.shortenUrl," ",r.a.createElement(C.a,{size:"sm",variant:"outline-secondary",onClick:function(){e.copyToClipBoard(t.shortenUrl)}},r.a.createElement("i",{class:"fas fa-copy"})," Copy")," "),r.a.createElement(j.a.Link,{style:{float:"right"},href:encodeURI("/app/details/".concat(t.shorten))},r.a.createElement("i",{className:"fas fa-chart-bar"})))))})))}}]),t}(n.Component),z=function(e){var t=e.location.query,a=t&&t.message;return r.a.createElement("div",null,r.a.createElement("h3",null,"An error as occured"),r.a.createElement("div",null,a))},P=a(172),N=a(405),A="".concat(B.apiBaseUrl,"/Detail"),L=function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,null,[{key:"getDetails",value:function(e){return new Promise(function(t,a){fetch("".concat(A,"/").concat(e),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={originalUrl:"",shortenUrl:"",count:0,details:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.props.match.params.url;L.getDetails(t).then(function(t){if(t){var a=t.shortenUrl,n=t.originalUrl,r=t.details,l=r.length;e.setState({details:r,originalUrl:n,shortenUrl:a,count:l})}})}},{key:"render",value:function(){var e=this.state,t=e.shortenUrl,a=e.originalUrl,n=e.details,l=e.count;return Object(P.a)(this.props.match.params),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(j.a,null,r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,"".concat(window.location.origin,"/").concat(t)),r.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},a,r.a.createElement(j.a.Link,{style:{float:"right"}},l," ",r.a.createElement("i",{className:"fas fa-chart-bar"}))))),r.a.createElement("br",null),n&&n.length>0&&r.a.createElement(j.a,null,r.a.createElement(j.a.Body,null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Timestamp"),r.a.createElement("th",null,"Agent"))),r.a.createElement("tbody",null,n.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.ipAddress),r.a.createElement("td",null,JSON.stringify(e.timeStamp)),r.a.createElement("td",null,e.deviceDetails))}))))))}}]),t}(n.Component),J=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,{xs:12},r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:x}),r.a.createElement(y.a,{path:"/details/:url",component:R}),r.a.createElement(y.a,{component:z}))))))}}]),t}(n.Component),W=Object(s.b)("routing")(Object(s.c)(J));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=document.getElementById("root"),$=Object(i.a)(),q=new u.RouterStore,G={routing:q},H=Object(u.syncHistoryWithStore)($,q);c.a.render(r.a.createElement(s.a,G,r.a.createElement(o.a,{basename:"app",history:H},r.a.createElement(W,null))),I),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[175,1,2]]]);
//# sourceMappingURL=main.d61b374c.chunk.js.map